{"version":3,"sources":["webpack:///./src/views/List.vue?5882","webpack:///src/views/List.vue","webpack:///./src/views/List.vue?c60c","webpack:///./src/views/List.vue","webpack:///./src/views/List.vue?606e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","list","index","key","class","active","on","$event","selectlist","_v","_s","label","tag","attrs","image","addtocart","beforeEnter","enter","afterEnter","ball","_e","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,cAAc,CAACE,YAAY,cAAc,CAACF,EAAG,KAAKJ,EAAIO,GAAIP,EAAa,WAAE,SAASQ,EAAKC,GAAO,OAAOL,EAAG,KAAK,CAACM,IAAID,EAAME,MAAMH,EAAKI,OAAO,SAAS,GAAGC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIe,WAAWN,MAAU,CAACT,EAAIgB,GAAG,IAAIhB,EAAIiB,GAAGT,EAAKU,OAAO,UAAS,KAAKd,EAAG,cAAc,CAACE,YAAY,eAAe,CAACF,EAAG,KAAKJ,EAAIO,GAAIP,EAAQ,MAAE,SAASmB,EAAIV,GAAO,OAAOL,EAAG,KAAK,CAACM,IAAID,GAAO,CAACL,EAAG,MAAM,CAACgB,MAAM,CAAC,IAAMD,EAAIE,MAAM,IAAM,MAAMjB,EAAG,IAAI,CAACJ,EAAIgB,GAAGhB,EAAIiB,GAAGE,EAAID,OAAO,KAAKd,EAAG,IAAI,CAACE,YAAY,aAAaO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIsB,UAAUR,EAAOK,cAAe,KAAKf,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,aAAa,CAACS,GAAG,CAAC,eAAeb,EAAIuB,YAAY,MAAQvB,EAAIwB,MAAM,WAAaxB,EAAIyB,aAAa,CAAEzB,EAAI0B,KAAS,KAAEtB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,IAAI,CAACE,YAAY,mBAAmBN,EAAI2B,QAAQ,IAAI,IAC38BC,EAAkB,G,YC4CtB,G,8BAAA,CACE,KADF,WAEI,MAAJ,CACM,KAAN,CAEQ,MAAR,EAEQ,GAAR,IAEM,KAAN,GACM,UAAN,CACA,CACQ,MAAR,OACQ,QAAR,GAEA,CACQ,MAAR,OACQ,QAAR,GAEA,CACQ,MAAR,OACQ,QAAR,GAEA,CACQ,MAAR,OACQ,QAAR,GAEA,CACQ,MAAR,OACQ,QAAR,GAEA,CACQ,MAAR,OACQ,QAAR,GAEA,CACQ,MAAR,OACQ,QAAR,GAEA,CACQ,MAAR,OACQ,QAAR,GAEA,CACQ,MAAR,OACQ,QAAR,GAEA,CACQ,MAAR,OACQ,QAAR,GAEA,CACQ,MAAR,OACQ,QAAR,GAEA,CACQ,MAAR,OACQ,QAAR,MAKE,QAAF,CAEI,WAFJ,SAEA,GAAM,IAAN,OAEM,KAAN,iCAEA,MAEU,EAAV,UAEU,EAAV,gBAGU,EAAV,cAMI,YAnBJ,SAmBA,GAAM,IAAN,OAAM,OAAN,4JAEA,+CAFA,OAEA,EAFA,OAIA,cAJA,8CAQI,UA3BJ,SA2BA,KACM,KAAN,0BAEM,KAAN,aAEM,KAAN,kBAGI,YAnCJ,SAmCA,GAGM,IAAN,eACM,QAAN,OACM,IAAN,4BACM,QAAN,OACM,IAAN,8BACA,8BACM,QAAN,SACM,EAAN,sBACM,EAAN,mDACM,IAAN,4BACM,EAAN,oDAEI,MAlDJ,SAkDA,KAEM,SAAN,kBAEM,EAAN,qCACM,IAAN,4BACM,EAAN,qCAEM,EAAN,qCAEI,WA5DJ,SA4DA,GAEM,KAAN,aACM,EAAN,uBAKE,QAlIF,WAoII,KAAJ,gBAIE,QAxIF,WAyII,IAAJ,wCACA,yCAEA,wCAEI,EAAJ,uBAEI,EAAJ,0BC7LyV,I,wBCQrVC,EAAY,eACd,EACA9B,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CCnBf,W","file":"js/chunk-936b481a.7c27a867.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panelsbox\"},[_c('cube-scroll',{staticClass:\"leftpanels\"},[_c('ul',_vm._l((_vm.tabslabel),function(list,index){return _c('li',{key:index,class:list.active?'active':'',on:{\"click\":function($event){return _vm.selectlist(index)}}},[_vm._v(\" \"+_vm._s(list.label)+\" \")])}),0)]),_c('cube-scroll',{staticClass:\"rightpanels\"},[_c('ul',_vm._l((_vm.tags),function(tag,index){return _c('li',{key:index},[_c('img',{attrs:{\"src\":tag.image,\"alt\":\"\"}}),_c('p',[_vm._v(_vm._s(tag.label)+\" \"),_c('i',{staticClass:\"cubeic-add\",on:{\"click\":function($event){return _vm.addtocart($event,tag)}}})])])}),0)]),_c('div',{staticClass:\"ball-wrap\"},[_c('transition',{on:{\"before-enter\":_vm.beforeEnter,\"enter\":_vm.enter,\"afterEnter\":_vm.afterEnter}},[(_vm.ball.show)?_c('div',{staticClass:\"ball\"},[_c('div',{staticClass:\"inner\"},[_c('i',{staticClass:\"cubeic-add\"})])]):_vm._e()])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!-- 面板盒子 -->\r\n  <div class=\"panelsbox\">\r\n    <!-- 左边的滚动 -->\r\n    <cube-scroll class=\"leftpanels\">\r\n      <ul>\r\n        <!-- 遍历“分类标签页”左边“分类项”的数据，list-左边栏的每一个分类项，tabslabel-整个分类标签页 -->\r\n        <!-- 1.selectlist(index)点击左边的分类项时，将通过“路由导航的方式”(跳转)呈现右边的页面 -->\r\n        <!-- 2.active，当某一个分类项标签被鼠标选中(true)时，类名变为active，否则:class=''(无类名) -->\r\n        <li v-for=\"(list,index) in tabslabel\" :key=\"index\" @click=\"selectlist(index)\" :class=\"list.active?'active':''\">\r\n          {{list.label}}\r\n        </li>\r\n      </ul>\r\n    </cube-scroll>\r\n    <!-- 右边的滚动 -->\r\n    <cube-scroll class=\"rightpanels\">\r\n      <ul>\r\n        <!-- 所遍历的每一个li中的每一个tag都对应着一个唯一的被标识的索引index -->\r\n        <li v-for=\"(tag,index) in tags\" :key=\"index\">\r\n          <img :src=\"tag.image\" alt=\"\">\r\n          <!-- 在点击事件中传入 $event事件对象 和 数据tag 两个参数（实现动画效果要用到❓） -->\r\n          <p>{{tag.label}} <i class=\"cubeic-add\" @click=\"addtocart($event,tag)\"></i></p>\r\n        </li>\r\n      </ul>\r\n    </cube-scroll>\r\n    <!-- 添加商品掉入购物车-动画 -->\r\n    <div class=\"ball-wrap\">\r\n      <transition\r\n        @before-enter=\"beforeEnter\"\r\n        @enter=\"enter\"\r\n        @afterEnter=\"afterEnter\"\r\n      >\r\n        <div class=\"ball\" v-if=\"ball.show\">\r\n          <div class=\"inner\">\r\n            <i class=\"cubeic-add\">\r\n\r\n            </i>\r\n          </div>\r\n        </div> \r\n      </transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        ball:{\r\n          //球刚开始不显示\r\n          show:false,\r\n          //获取球的DOM\r\n          el:''\r\n        },\r\n        tags:[],\r\n        tabslabel:[\r\n          {\r\n              label:'热门推荐',\r\n              active:true\r\n          },\r\n          {\r\n              label:'手机数码',\r\n              active:false\r\n          },\r\n          {\r\n              label:'家用电器',\r\n              active:false\r\n          },\r\n          {\r\n              label:'电脑办公',\r\n              active:false\r\n          },\r\n          {\r\n              label:'家居厨具',\r\n              active:false\r\n          },\r\n          {\r\n              label:'家具家装',\r\n              active:false\r\n          },\r\n          {\r\n              label:'美妆护肤',\r\n              active:false\r\n          },\r\n          {\r\n              label:'医药保健',\r\n              active:false\r\n          },\r\n          {\r\n              label:'钟表珠宝',\r\n              active:false\r\n          },\r\n          {\r\n              label:'计生情趣',\r\n              active:false\r\n          },\r\n          {\r\n              label:'生活旅行',\r\n              active:false\r\n          },\r\n          {\r\n              label:'国际名牌',\r\n              active:false\r\n          },\r\n        ]\r\n      }\r\n    },\r\n    methods: {\r\n      //点击左侧分类\r\n      selectlist(index){\r\n        //ind-forEach在遍历数组时为每一个元素所指定的索引\r\n        this.tabslabel.forEach((element,ind) => {\r\n          //将forEach所遍历到的分类标签中每一个被指定了ind的标签分别一个一个地与当前鼠标所点击的通过v-for所遍历出来的被指定了index的标签做比较（多对一比较）\r\n          if(index == ind){\r\n            //如果当前所处理的元素的索引ind == 当前所点击的li标签所对应的索引值index，设置该元素active为true(.active样式生效)\r\n            element.active = true\r\n            //同时，调用getclassify()方法“发送axios网络请求”获取当前鼠标所选中标签对应的页面内容\r\n            this.getclassify(index)\r\n          }else{\r\n            //否则，设置该元素active为false(.active样式不生效)\r\n            element.active = false\r\n          }\r\n        })\r\n      },\r\n\r\n      //获取分类的方法\r\n      async getclassify(index){\r\n        //向分类页的分类接口发送axios网络请求，并将获取到的“值”赋值给变量result\r\n        const result = await this.$http.get('/api/classify',{params:{type:index}})\r\n        //将获取到的值中的data[···]数组更新替换掉上面的tags:[]\r\n        this.tags = result.data\r\n      },\r\n\r\n      //📌将商品数据存入vuex中（即：添加商品到购物车❗）\r\n      addtocart(e,tag){\r\n        this.$store.commit('tocart',tag)\r\n        //添加商品的一瞬间，让小球显示\r\n        this.ball.show = true\r\n        //获取点击的元素e.target\r\n        this.ball.el = e.target\r\n      },\r\n\r\n      beforeEnter(el){\r\n            //让小球移动到点击的位置\r\n            //获取点击位置\r\n            const dom=this.ball.el\r\n            console.log(dom)\r\n            const rect=dom.getBoundingClientRect()//获取点击的dom的位置\r\n            console.log(rect)\r\n            const x=rect.left-window.innerWidth*0.7\r\n            const y=-(window.innerHeight-rect.top)\r\n            console.log(x,y)\r\n            el.style.display='block'\r\n            el.style.transform=`translate3d(0,${y}px,0)`\r\n            const inner=el.querySelector('.inner')\r\n            inner.style.transform=`translate3d(${x}px,0,0)`\r\n        },\r\n        enter(el,done){\r\n            //触发重绘\r\n            document.body.offsetHeight\r\n            //小球移动回到原点，就是购物车的位置\r\n             el.style.transform=`translate3d(0,0,0)`\r\n             const inner=el.querySelector('.inner')\r\n            inner.style.transform=`translate3d(0,0,0)`\r\n            //过渡完成后执行的事件\r\n            el.addEventListener('transitionend',done)\r\n        },\r\n        afterEnter(el){\r\n            //结束隐藏小球\r\n            this.ball.show=false\r\n            el.style.display='none'\r\n        }\r\n    },\r\n\r\n    //当created钩子被调用时(也就是数据初始化时)，调用👆的getclassify(index)方法向接口发送网络请求\r\n    created() {\r\n      //根据索引值index获取默认的分类数据\r\n      this.getclassify(0)\r\n    },\r\n\r\n    //挂载之后，可以进行一系列的DOM操作了\r\n    mounted() {\r\n      const leftpanels = document.querySelector('.leftpanels')\r\n      const rightpanels = document.querySelector('.rightpanels')\r\n      //document.documentElement.clientHeight -> 获取当前已挂载的页面的“可视高度”（也就是手机屏幕的高度）\r\n      const bodyheight = document.documentElement.clientHeight\r\n      //设置左边的cube-scroll的高度\r\n      leftpanels.style.height = bodyheight - 57 + 'px'\r\n      //设置右边的cube-scroll的高度\r\n      rightpanels.style.height = bodyheight - 57 + 'px'\r\n    },\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  .panelsbox\r\n    display flex\r\n    .leftpanels\r\n      width 30%\r\n      li\r\n        height 50px\r\n        line-height 50px\r\n        border-bottom 1px solid #fff\r\n        color #333\r\n        background #f8f8f8\r\n        font-size 14px\r\n      .active\r\n        background #fff\r\n        color #CD5C5C\r\n  .rightpanels\r\n    width 70%\r\n    ul\r\n      display flex\r\n      flex-wrap  wrap\r\n      li\r\n        width 50%\r\n        justify-content center\r\n        align-items center\r\n        font-size 15px\r\n        img \r\n            width 80px\r\n            height  80px\r\n          .cubeic-add\r\n            font-size 18px\r\n  .ball-wrap\r\n    .ball\r\n      position fixed\r\n      left 70%\r\n      bottom 10px\r\n      z-index 1003\r\n      color red\r\n      transition all 1s cubic-bezier(0.49,-0.29,0.75,0.41)\r\n      .inner\r\n        width 16px\r\n        height 16px\r\n        transition all 1s linear  \r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--16-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--16-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=7edbee9f&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=7edbee9f&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7edbee9f\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=7edbee9f&lang=stylus&scoped=true&\""],"sourceRoot":""}